# Cloudflare Pages configuration for l2rr2l
# Project URL: https://l2rr2l.pages.dev/
# See: https://developers.cloudflare.com/pages/functions/wrangler-configuration/

name = "l2rr2l"
compatibility_date = "2026-01-23"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = "dist"

# D1 Database binding
[[d1_databases]]
binding = "l2rr2l"
database_name = "l2rr2l"
database_id = "df44dc20-00df-4d90-a584-e798027b24ae" # Set after creating DB with: wrangler d1 create l2rr2l

# Environment variables (set in Cloudflare dashboard or .dev.vars)
# ELEVENLABS_API_KEY
# JWT_SECRET

[vars]
ENVIRONMENT = "production"

# Build configuration
# Build command: npm run build
# Build output directory: dist
# Production branch: main

# Manual deployment: npx wrangler pages deploy dist --project-name l2rr2l

# GitHub Actions auto-deploy (see .github/workflows/deploy.yml)
# Required GitHub secrets:
#   CLOUDFLARE_API_TOKEN - Create at https://dash.cloudflare.com/profile/api-tokens
#   CLOUDFLARE_ACCOUNT_ID - 06785f44e597a688eb45a6e3b5477c9a
